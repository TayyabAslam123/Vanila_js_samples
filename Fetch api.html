<p><u>HELLO THIS IS FETCH API TUTORIAL</u></p>

<button id="text">GET TEST</button>
<button id="json">GET JSON</button>
<button id="api">GET API</button>
<div id="area">
<H3>DATA WILL FETCH HERE</H3>
</div>


<form id="addme">
<input type="text" id="name" name="name" placeholder="name">
<input type="email" id="email" name="email" placeholder="email">
<input type="submit" value="submit">
</form>

<script>
    document.getElementById('text').addEventListener('click', mytext);
    document.getElementById('json').addEventListener('click', myjson);
    document.getElementById('api').addEventListener('click', myapi);

    document.getElementById('addme').addEventListener('submit', addngo);

    function mytext(){
     fetch('sample.txt').then(function(res){
console.log(res);
     }).catch(function(err){
console.log(err)
     })
    }

    function myjson(){
        alert('ok');
    }

    // function myapi(){
    //     alert('ok');
    // }


////fetch api
function myapi(){

    fetch('http://localhost:8080/api/ngo.php')
    .then((res)=>console.log(res)
    )


    .then((data)=>{
        console.log(data);
        let output;
        data.forEach((ngo) => {
             output+=`
            <h3><u>${ngo.name}</u></h3>
           
            <p style="color:red;">${ngo.email}</p>
          
            `;
        });

var area=document.getElementById('area');
area.innerHTML=output;
    })
}



function addngo(e){
e.preventDefault();

var name=document.getElementById('name').value;
var email=document.getElementById('email').value;

fetch('http://f215a5a3.ngrok.io/qery-example',{
    method:'POST',
    body:JSON.stringify({language:name})
});
}
</script>
